<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>랭킹 보드 리스트</title>
    <style>
      li {
        list-style: none;
      }
      .container {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
      }

      .section {
        width: 30%;
        background-color: #f2f2f2;
        padding: 20px;
        box-sizing: border-box;
        margin-bottom: 20px;
      }

      .section h2 {
        margin-top: 0;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="section">
        <h2>해외시장지수 1위</h2>
        <!-- 해외시장지수 1위 리스트 아이템 -->
        <ul>
          <li>
            <span>미국(S&P500)</span>
            <span>KODEX 미국S&P500TR</span>
            <span>11회</span>
            <span>30점</span>
          </li>
          <li>
            <span>미국(S&P500)</span>
            <span>KODEX 미국S&P500TR</span>
            <span>11회</span>
            <span>30점</span>
          </li>
          <li>
            <span>미국(S&P500)</span>
            <span>KODEX 미국S&P500TR</span>
            <span>11회</span>
            <span>30점</span>
          </li>
          <li>
            <span>미국(S&P500)</span>
            <span>KODEX 미국S&P500TR</span>
            <span>11회</span>
            <span>30점</span>
          </li>
          <li>
            <span>미국(S&P500)</span>
            <span>KODEX 미국S&P500TR</span>
            <span>11회</span>
            <span>30점</span>
          </li>
          <li>
            <span>미국(S&P500)</span>
            <span>KODEX 미국S&P500TR</span>
            <span>11회</span>
            <span>30점</span>
          </li>
          <li>
            <span>미국(S&P500)</span>
            <span>KODEX 미국S&P500TR</span>
            <span>11회</span>
            <span>30점</span>
          </li>
          <li>
            <span>미국(S&P500)</span>
            <span>KODEX 미국S&P500TR</span>
            <span>11회</span>
            <span>30점</span>
          </li>
          <li>
            <span>미국(S&P500)</span>
            <span>KODEX 미국S&P500TR</span>
            <span>11회</span>
            <span>30점</span>
          </li>
          <li>
            <span>미국(S&P500)</span>
            <span>KODEX 미국S&P500TR</span>
            <span>11회</span>
            <span>30점</span>
          </li>
          <li>
            <span>미국(S&P500)</span>
            <span>KODEX 미국S&P500TR</span>
            <span>11회</span>
            <span>30점</span>
          </li>
        </ul>
      </div>
      <div class="section">
        <h2>해외주식데이터/섹터 1위</h2>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
      </div>
      <div class="section">
        <h2>국내시장지수 1위</h2>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
      </div>
      <div class="section">
        <h2>국내주식데이터/섹터 1위</h2>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
      </div>
      <div class="section">
        <h2>정기재건/종합채권/리커베이션 제권 1위</h2>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
      </div>
      <div class="section">
        <h2>배당/소득기준리 1위</h2>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
        <li>
          <span>미국(S&P500)</span>
          <span>KODEX 미국S&P500TR</span>
          <span>11회</span>
          <span>30점</span>
        </li>
      </div>
    </div>

    <script>
      const FlipListPlugin = (function () {
        let isAnimating = false
        let animationOptions
        let currentSectionIndex = 0
        let currentItemIndex = 0

        function flipItem(item, angle, targetAngle, flipDirection) {
          item.style.transform = `rotateX(${angle}deg)`

          if (Math.abs(angle) < Math.abs(targetAngle)) {
            angle += animationOptions.flipSpeed * flipDirection
            requestAnimationFrame(() =>
              flipItem(item, angle, targetAngle, flipDirection)
            )
          } else {
            // Stop the animation after a single flip
            isAnimating = false
            item.style.transform = ''
            currentItemIndex++
            if (currentItemIndex < getSectionLength(currentSectionIndex)) {
              setTimeout(
                () => flipSection(currentSectionIndex),
                animationOptions.itemDelay
              )
            } else {
              currentItemIndex = 0
              currentSectionIndex++
              if (currentSectionIndex < animationOptions.sections.length) {
                setTimeout(
                  () => startAnimation(),
                  animationOptions.sectionDelay
                )
              }
            }
          }
        }

        function flipSection(sectionIndex) {
          if (!isAnimating) {
            isAnimating = true
            const item = getSectionItem(sectionIndex, currentItemIndex)
            const targetAngle = 360 // Single flip
            const flipDirection = Math.random() < 0.5 ? 1 : -1
            flipItem(item, 0, targetAngle, flipDirection)
          }
        }

        function startAnimation() {
          if (currentSectionIndex < animationOptions.sections.length) {
            currentItemIndex = 0
            flipSection(currentSectionIndex)
          } else {
            resetIndices()
          }
        }

        function getSectionItem(sectionIndex, itemIndex) {
          return animationOptions.sections[sectionIndex].querySelectorAll('li')[
            itemIndex
          ]
        }

        function getSectionLength(sectionIndex) {
          return animationOptions.sections[sectionIndex].querySelectorAll('li')
            .length
        }

        function resetIndices() {
          currentSectionIndex = 0
          currentItemIndex = 0
        }

        function init(selector, userOptions = {}) {
          const sections = document.querySelectorAll(selector)
          animationOptions = {
            flipSpeed: 1.5,
            iterations: 3,
            itemDelay: 300,
            sectionDelay: 2000,
            sections,
            ...userOptions
          }

          startAnimation()
        }

        return { init }
      })()

      // Example usage
      FlipListPlugin.init('.section', {
        flipSpeed: 1,
        iterations: 3,
        itemDelay: 100,
        sectionDelay: 2000
      })
    </script>
  </body>
</html>
